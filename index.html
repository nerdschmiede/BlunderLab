<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BlunderLab</title>

    <!-- Local chessground assets (from lichess/chessground repo) -->
    <link rel="stylesheet" href="./src/chessground.base.css">
    <link rel="stylesheet" href="./src/chessground.brown.css">
    <link rel="stylesheet" href="./src/chessground.cburnett.css">

    <link rel="stylesheet" href="./style.css">
</head>
<body>
<main class="page">
    <h1 class="title">BlunderLab</h1>
    <div class="board-stack">
        <div id="pgn-line" aria-label="Move list"></div>

        <div id="board" class="board" aria-label="Chess board"></div>
    </div>
    <!-- Mode toggle row: dedicated full-width row directly under the board -->
    <div class="mode-row">
        <div class="segmented-toggle" role="group" aria-label="Mode">
            <button id="editBtn" type="button" class="iconbtn" aria-pressed="true">Edit</button>
            <button id="trainBtn" type="button" class="iconbtn" aria-pressed="false">Train</button>
        </div>
    </div>

    <div class="controls" aria-label="Move controls">
        <button id="undoBtn" class="iconbtn" type="button" aria-label="Undo">‚Üê</button>
        <button id="redoBtn" class="iconbtn" type="button" aria-label="Redo">‚Üí</button>
        <button id="flipBtn" class="iconbtn" type="button" aria-label="Flip board">‚áÖ</button>
        <button id="lichessBtn" class="iconbtn" type="button" aria-label="Lichess analysis">üîçÔ∏é</button>
        <button id="menuBtn" class="iconbtn" type="button" aria-label="Menu" title="Menu">‚ò∞</button>
    </div>

    <!-- Overlay: Openings -->
    <div id="overlayBackdrop" class="overlay-backdrop hidden" aria-hidden="true"></div>

    <section
            id="openingsOverlay"
            class="overlay hidden"
            role="dialog"
            aria-modal="true"
            aria-labelledby="openingsTitle"
    >
        <header class="overlay-header">
            <h2 id="openingsTitle">Er√∂ffnungen</h2>
            <div class="overlay-header-actions">
                <button id="newOpeningBtn" class="btn" type="button">+ Neu</button>
                <button id="closeOverlayBtn" class="iconbtn" type="button" aria-label="Close" title="Close">‚úï</button>
            </div>
        </header>

        <div class="overlay-body">
            <ul id="openingsList" class="openings-list" aria-label="Openings list"></ul>
        </div>
    </section>

    <!-- Overlay: Create / Rename dialog -->
    <section
            id="openingDialog"
            class="overlay hidden"
            role="dialog"
            aria-modal="true"
            aria-labelledby="dialogTitle"
    >
        <header class="overlay-header">
            <h2 id="dialogTitle">Neue Er√∂ffnung</h2>
            <button id="closeDialogBtn" class="iconbtn" type="button" aria-label="Close" title="Close">‚úï</button>
        </header>

        <div class="overlay-body">
            <label class="field">
                <span>Name</span>
                <input id="openingNameInput" type="text" maxlength="60" placeholder="z.B. Caro-Kann" />
            </label>

            <div class="field">
                <span>Ich trainiere als</span>
                <div class="mode-toggle">
                    <button id="trainAsWhiteBtn" class="seg" type="button">Wei√ü</button>
                    <button id="trainAsBlackBtn" class="seg" type="button">Schwarz</button>
                </div>
            </div>

            <div class="dialog-actions">
                <button id="dialogCancelBtn" class="btn secondary" type="button">Abbrechen</button>
                <button id="dialogOkBtn" class="btn primary" type="button">OK</button>
            </div>
        </div>
    </section>
</main>


<script type="module" src="./app.js"></script>
</body>
</html>
